<template name="projectPage">

	{{#if project}}
	<div class="{{#if isProjectPageView}}project-page{{else}}project-cover{{/if}} {{#if screensize 'xs'}}dynamic_color{{/if}}">
		<div class="content">
			{{>Template.dynamic template=textContent data=project}}
		</div>

		<div class="nav-container">
			{{>Template.dynamic template=navContent data=project}}
		</div>
	</div>

	<!-- only show on larger screens -->
	{{#if screensize 'sm, md, lg'}}
	<div class="background-container">
		{{#if readiness}}
			{{>Template.dynamic data=image template=imagery}}
		{{else}}
			{{>loadingState}}
		{{/if}}
	</div>
	{{/if}}


	{{else}}
		{{> errPage}}
	{{/if}}

</template>

<template name="projectCoverText">
	<!-- dates container -->
	<!-- only on larger screens -->
	{{#if screensize 'sm, md, lg'}}
		<div class="date-container">
			<div class="date">
				<h4>
				{{>SVGicon name='timeStamp'}}
				{{#if dateMY startDate dateMY endDate}}
				<span>{{dateMY endDate}}</span>
				{{else}}
				<span>{{dateMY startDate}} - {{dateMY endDate}}</span>
				{{/if}}
				</h4>
			</div>
		</div>
	{{/if}}
	
	<!-- content container -->
	<div class="content-plate dynamic_color">
		<!-- show only on phones -->
		{{#if screensize 'xs'}}
			<div class="image-container">
				<div class="date-container">
					<div class="date">
						<h4>
						{{>SVGicon name='timeStamp'}}
						<span>{{dateMY startDate}} - {{dateMY endDate}}</span>
						</h4>
					</div>
				</div>

				<!-- {{#if readiness}} -->
					<img src="/cfs/files/images/{{responsiveImage image}}" class="img-responsive" alt="{{title}}">
<!-- 				{{else}}
					{{>loadingState}}
				{{/if}} -->

			</div>
		{{/if}}

		<div class="text">
			{{{description}}}
		</div>
		{{>projectPagination}}
	</div>
</template>

<template name="projectText">
	<div class="content-plate dynamic_color full-height">
		<!-- show only on phones -->
		{{#if screensize 'xs'}}
			<div class="image-container">
				<!-- {{#if readiness}} -->
					<img src="/cfs/files/images/{{responsiveImage image}}" class="img-responsive" alt="{{title}}">
<!-- 				{{else}}
					{{>loadingState}}
				{{/if}} -->
			</div>
		{{/if}}

		<div class="text">
			{{{description}}}
		</div>
		{{>projectPagination}}
	</div>
</template>

<template name="projectNav">
	{{>navMenu}}

	<nav class="relative-nav">
		<a tabindex="2" type="button" href="#" class="js_prev_by_order nav-plate dynamic_color" title="Previous">
			<!-- <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> -->
			{{> SVGicon name="arrowPrev"}}
		</a>
		<a tabindex="3" type="button" href="#" class="js_next_by_order nav-plate dynamic_color" title="Next">
			<!-- <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> -->
			{{> SVGicon name="arrowNext"}}
		</a>
	</nav>

	<div class="title-container">
		<div class="title-plate dynamic_color">
			<h3>{{title}}</h3>
		</div>
	</div>
	
</template>

<template name="projectPagination">
	<div class="more">

		<ul tabindex="6" class="item-list pgn-list">
			{{#if pages}}
				<li class="pgn-item {{#if isCurrentProjectPage}} active {{/if}}">
					<a href="{{projectCoverUrl}}" title="Cover">
						<h6>0</h6>
					</a>
				</li>
				{{#each page in pages}}
				<li class="pgn-item {{#if isCurrentProjectPage page.slug}} active {{/if}}">
					<a href="{{projectPageUrl page.slug}}" title="Page {{page.order}}">
						<h6>{{page.order}}</h6>
					</a>
				</li>
				{{/each}}
			{{/if}}
		</ul>

		{{#if buttonText}}
		<a tabindex="1" class="learn-more-btn js_current_by_order" type="button" href="#" title="{{buttonText}}">{{buttonText}}</a>
		{{/if}}
	</div>
</template>